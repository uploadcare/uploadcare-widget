<meta charset="UTF-8" />
<meta content="width=device-width,initial-scale=1" name="viewport" />
<script>
  UPLOADCARE_PUBLIC_KEY = 'demopublickey' // should be replaced
  UPLOADCARE_TABS = 'all'
  UPLOADCARE_DEBUG_UPLOADS = true
  UPLOADCARE_SOCIAL_BASE = 'https://social.uploadcare.com'
  UPLOADCARE_CDN_BASE = 'https://ucarecdn.com'
  UPLOADCARE_URL_BASE = 'https://upload.uploadcare.com'
</script>
<script src="./uploadcare.full.js"></script>

<input id="key" />
<button id="logout">switch</button>

<script>
  function switchKey() {
    const $ = uploadcare.jQuery
    const key = $('#key').val()

    document.querySelector('#uploader')?.remove()
    document.querySelector('.uploadcare--widget')?.remove()

    $('<input type="hidden" id="uploader" preview-step="" />').appendTo(
      document.body
    )
    const widget1 = uploadcare.Widget('#uploader', {
      remoteTabSessionKey: key
    })
  }

  document.querySelector('#logout').addEventListener('click', () => {
    switchKey()
  })
</script>
